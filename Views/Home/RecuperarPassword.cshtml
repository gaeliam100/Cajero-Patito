
@{
    ViewData["Title"] = "RecuperarPassword";
}

<h1>RecuperarPassword</h1>

<script src='https://www.google.com/recaptcha/api.js'></script>
<div class="row">
    <div class="col-12">
        <form method="post" asp-action="RecuperarPassword" id="frmFormulario">
            <div class="form-group">
                <label>Correo electrónico</label>
                @*<input type="email" class="form-control" name="Correo" placeholder="Correo electrónico" value="@ViewBag._Usuario.Correo" required />*@
            </div>
            <div class="form-group" id="dvBotones">
                <div class="g-recaptcha" data-sitekey="6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI"></div>
            </div>
            <div class="form-group">
                <input type="submit" class="btn btn-primary" value="Recuperar" />
            </div>
        </form>
        @if (ViewBag.Error)
        {
            <div class="alert alert-warning" role="alert">
                El usuario no se pudo localizar
            </div>
        }

        @if (ViewBag.Completo)
        {
            <div class="alert alert-success" role="alert">
                Tu contraseña fue enviada a tu correo electrónico
            </div>
        }
    </div>
</div>
<script type="text/javascript">

    window.onload = function(){
        jQuery('#frmFormulario').submit(function(e){
            var response = grecaptcha.getResponse();
            if(response.length == 0){
                alert("Captcha no verificado");
                return false;
            }
            return true;
        });
    }

</script>